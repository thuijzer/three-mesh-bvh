{"mappings":"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","sources":["node_modules/stats.js/build/stats.min.js","example/asyncGenerate.js"],"sourcesContent":["// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","import * as THREE from 'three';\nimport Stats from 'stats.js';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\nimport { GenerateMeshBVHWorker } from '../src/workers/GenerateMeshBVHWorker.js';\nimport { acceleratedRaycast, MeshBVH, MeshBVHVisualizer } from '..';\n\nTHREE.Mesh.raycast = acceleratedRaycast;\n\nconst params = {\n\n\tuseWebWorker: true,\n\tradius: 1,\n\ttube: 0.3,\n\ttubularSegments: 500,\n\tradialSegments: 500,\n\tp: 3,\n\tq: 5,\n\n\tdisplayHelper: false,\n\thelperDepth: 10,\n\n};\n\nlet renderer, camera, scene, knot, clock, gui, helper, group, stats;\nlet outputContainer, loadContainer, loadBar, loadText;\nlet bvhGenerationWorker;\nlet generating = false;\n\ninit();\nrender();\n\nfunction init() {\n\n\tconst bgColor = 0xffca28;\n\n\toutputContainer = document.getElementById( 'output' );\n\tloadContainer = document.getElementById( 'loading-container' );\n\tloadBar = document.querySelector( '#loading-container .bar' );\n\tloadText = document.querySelector( '#loading-container .text' );\n\n\t// renderer setup\n\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.setClearColor( bgColor, 1 );\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\tdocument.body.appendChild( renderer.domElement );\n\n\t// scene setup\n\tscene = new THREE.Scene();\n\tscene.fog = new THREE.Fog( 0xffca28, 20, 60 );\n\n\tconst light = new THREE.DirectionalLight( 0xffffff, 1 );\n\tlight.position.set( 1, 1, 1 );\n\tscene.add( light );\n\tscene.add( new THREE.AmbientLight( 0xb0bec5, 0.8 ) );\n\n\t// camera setup\n\tcamera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 50 );\n\tcamera.position.set( 0, 0, 4 );\n\tcamera.far = 100;\n\tcamera.updateProjectionMatrix();\n\n\tclock = new THREE.Clock();\n\n\t// stats setup\n\tstats = new Stats();\n\tdocument.body.appendChild( stats.dom );\n\n\tgroup = new THREE.Group();\n\tscene.add( group );\n\n\tfor ( let i = 0; i < 400; i ++ ) {\n\n\t\tconst sphere = new THREE.Mesh(\n\t\t\tnew THREE.SphereBufferGeometry( 1, 32, 32 ),\n\t\t\tnew THREE.MeshBasicMaterial()\n\t\t);\n\t\tsphere.position.set(\n\t\t\tMath.random() - 0.5,\n\t\t\tMath.random() - 0.5,\n\t\t\tMath.random() - 0.5\n\t\t).multiplyScalar( 70 );\n\t\tsphere.scale.setScalar( Math.random() * 0.3 + 0.1 );\n\t\tgroup.add( sphere );\n\n\t}\n\n\tbvhGenerationWorker = new GenerateMeshBVHWorker();\n\n\tgui = new GUI();\n\tconst helperFolder = gui.addFolder( 'helper' );\n\thelperFolder.add( params, 'displayHelper' ).name( 'enabled' ).onChange( v => {\n\n\t\tif ( v && helper ) {\n\n\t\t\thelper.update();\n\n\t\t}\n\n\t} );\n\thelperFolder.add( params, 'helperDepth', 1, 50, 1 ).onChange( v => {\n\n\t\tif ( helper ) {\n\n\t\t\thelper.depth = v;\n\t\t\thelper.update();\n\n\t\t}\n\n\t} );\n\thelperFolder.open();\n\n\tconst knotFolder = gui.addFolder( 'knot' );\n\tknotFolder.add( params, 'useWebWorker' );\n\tknotFolder.add( params, 'radius', 0.5, 2, 0.01 );\n\tknotFolder.add( params, 'tube', 0.2, 1.2, 0.01 );\n\tknotFolder.add( params, 'tubularSegments', 50, 2000, 1 );\n\tknotFolder.add( params, 'radialSegments', 5, 2000, 1 );\n\tknotFolder.add( params, 'p', 1, 10, 1 );\n\tknotFolder.add( params, 'q', 1, 10, 1 );\n\tknotFolder.add( { regenerateKnot }, 'regenerateKnot' ).name( 'regenerate' );\n\tknotFolder.open();\n\n\tregenerateKnot();\n\n\twindow.addEventListener( 'resize', function () {\n\n\t\tcamera.aspect = window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\n\t}, false );\n\n}\n\nfunction regenerateKnot() {\n\n\tif ( generating ) {\n\n\t\treturn;\n\n\t}\n\n\tgenerating = true;\n\n\tif ( knot ) {\n\n\t\tknot.material.dispose();\n\t\tknot.geometry.dispose();\n\t\tgroup.remove( knot );\n\t\tgroup.remove( helper );\n\n\t}\n\n\tconst stallStartTime = window.performance.now();\n\tconst geomStartTime = window.performance.now();\n\tknot = new THREE.Mesh(\n\t\tnew THREE.TorusKnotBufferGeometry(\n\t\t\tparams.radius,\n\t\t\tparams.tube,\n\t\t\tparams.tubularSegments,\n\t\t\tparams.radialSegments,\n\t\t\tparams.p,\n\t\t\tparams.q\n\t\t),\n\t\tnew THREE.MeshStandardMaterial( {\n\t\t\tcolor: new THREE.Color( 0x4db6ac ).convertSRGBToLinear(),\n\t\t\troughness: 0.75\n\n\t\t} )\n\t);\n\tconst geomTime = window.performance.now() - geomStartTime;\n\tconst startTime = window.performance.now();\n\tlet totalStallTime;\n\tif ( params.useWebWorker ) {\n\n\t\tconst onProgress = v => {\n\n\t\t\tconst perc = ( v * 100 ).toFixed( 0 );\n\t\t\tloadContainer.style.visibility = 'visible';\n\t\t\tloadBar.style.width = `${ perc }%`;\n\t\t\tloadText.innerText = `${ perc }%`;\n\n\t\t};\n\n\t\tbvhGenerationWorker.generate( knot.geometry, { onProgress } ).then( bvh => {\n\n\t\t\tloadContainer.style.visibility = 'hidden';\n\n\t\t\tknot.geometry.boundsTree = bvh;\n\t\t\tgroup.add( knot );\n\n\t\t\tconst deltaTime = window.performance.now() - startTime;\n\t\t\tgenerating = false;\n\n\t\t\thelper = new MeshBVHVisualizer( knot, 0 );\n\t\t\thelper.depth = params.helperDepth;\n\n\t\t\tif ( params.displayHelper ) {\n\n\t\t\t\thelper.update();\n\n\t\t\t}\n\n\t\t\tgroup.add( helper );\n\n\t\t\toutputContainer.textContent =\n\t\t\t\t`Geometry Generation Time : ${ geomTime.toFixed( 3 ) }ms\\n` +\n\t\t\t\t`BVH Generation Time : ${ deltaTime.toFixed( 3 ) }ms\\n` +\n\t\t\t\t`Frame Stall Time : ${ totalStallTime.toFixed( 3 ) }`;\n\n\t\t} );\n\n\t\ttotalStallTime = window.performance.now() - stallStartTime;\n\n\t} else {\n\n\t\tknot.geometry.boundsTree = new MeshBVH( knot.geometry );\n\t\ttotalStallTime = window.performance.now() - stallStartTime;\n\n\t\tgroup.add( knot );\n\n\t\tconst deltaTime = window.performance.now() - startTime;\n\t\tgenerating = false;\n\n\t\thelper = new MeshBVHVisualizer( knot );\n\t\thelper.depth = params.helperDepth;\n\t\thelper.update();\n\t\tgroup.add( helper );\n\n\t\toutputContainer.textContent =\n\t\t\t`Geometry Generation Time : ${ geomTime.toFixed( 3 ) }ms\\n` +\n\t\t\t`BVH Generation Time : ${ deltaTime.toFixed( 3 ) }ms\\n` +\n\t\t\t`Frame Stall Time : ${ totalStallTime.toFixed( 3 ) }`;\n\n\t}\n\n}\n\nfunction render() {\n\n\tstats.update();\n\trequestAnimationFrame( render );\n\n\tlet delta = clock.getDelta();\n\tgroup.rotation.x += 0.4 * delta;\n\tgroup.rotation.y += 0.6 * delta;\n\n\tif ( helper ) {\n\n\t\thelper.visible = params.displayHelper;\n\n\t}\n\n\trenderer.render( scene, camera );\n\n}\n"],"names":["f","e","$f4c59361c37dab96$exports","a","c","appendChild","dom","u","d","children","length","style","display","l","document","createElement","cssText","addEventListener","preventDefault","k","performance","Date","now","g","r","Panel","h","self","memory","t","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","this","domElement","setMode","Infinity","Math","round","window","devicePixelRatio","v","m","n","p","q","width","height","b","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","w","min","max","drawImage","define","amd","Stats","$hGT0Q","Mesh","raycast","$aBPXg","acceleratedRaycast","$9178bc5c843fa3d7$var$params","useWebWorker","radius","tube","tubularSegments","radialSegments","displayHelper","helperDepth","$9178bc5c843fa3d7$var$renderer","$9178bc5c843fa3d7$var$camera","$9178bc5c843fa3d7$var$scene","$9178bc5c843fa3d7$var$knot","$9178bc5c843fa3d7$var$clock","$9178bc5c843fa3d7$var$gui","$9178bc5c843fa3d7$var$helper","$9178bc5c843fa3d7$var$group","$9178bc5c843fa3d7$var$stats","$9178bc5c843fa3d7$var$outputContainer","$9178bc5c843fa3d7$var$loadContainer","$9178bc5c843fa3d7$var$loadBar","$9178bc5c843fa3d7$var$loadText","$9178bc5c843fa3d7$var$bvhGenerationWorker","$9178bc5c843fa3d7$var$generating","$9178bc5c843fa3d7$var$regenerateKnot","material","dispose","geometry","remove","stallStartTime","geomStartTime","TorusKnotBufferGeometry","MeshStandardMaterial","color","Color","convertSRGBToLinear","roughness","geomTime","startTime","totalStallTime","onProgress","perc","toFixed","visibility","innerText","generate","then","bvh","boundsTree","add","deltaTime","MeshBVHVisualizer","depth","textContent","MeshBVH","getElementById","querySelector","WebGLRenderer","antialias","setPixelRatio","setSize","innerWidth","innerHeight","setClearColor","outputEncoding","sRGBEncoding","body","Scene","fog","Fog","light","DirectionalLight","position","set","AmbientLight","PerspectiveCamera","far","updateProjectionMatrix","Clock","$parcel$interopDefault","Group","i","sphere","SphereBufferGeometry","MeshBasicMaterial","random","multiplyScalar","scale","setScalar","$3C1cw","GenerateMeshBVHWorker","$ghLil","GUI","helperFolder","addFolder","name","onChange","open","knotFolder","aspect","$9178bc5c843fa3d7$var$init","$9178bc5c843fa3d7$var$render","requestAnimationFrame","delta","getDelta","rotation","x","y","visible","render"],"version":3,"file":"asyncGenerate.8451c4d6.js.map"}